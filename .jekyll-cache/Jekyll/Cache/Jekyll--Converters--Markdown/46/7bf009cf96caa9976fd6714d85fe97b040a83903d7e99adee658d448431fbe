I"£*<!--Pit√§sk√∂h√§n k√§sitteit√§ki varten olla joku listaus systeemi.
    Miten teht√§vi√§ pit√§s sijotella?
    Voikohan HTML-painikkeita jne kutsua objekteiksi?
    Pit√§s varmaan olla joku debuggeri kirjoitusvirheille.-->

<h1 id="osa-2--nyt-alkaa-tapahtumaan">Osa 2 ‚Äì Nyt alkaa tapahtumaan</h1>
<h2 id="31-tapahtumat">3.1 Tapahtumat</h2>

<p>Kun klikkaat hiirell√§ tietokoneen n√§ytt√∂√§, saat aikaan tapahtuman. Me ohjelmoijina voimme p√§√§tt√§√§, mit√§ t√§ll√§isess√§ tapahtumassa tapahtuu. Aloitamme omien tapahtumien ohjelmoinnin luomalla tekstikappaleen ohjelmaamme, jota klikkaamalla suoritamme <code>alert()</code>-komennon.</p>

<div class="codebox example">
<h3>Esimerkki 3.1</h3>
<p>
Teksti√§ klikkaamalla suoritetaan <b>tapahtuma</b>. 
</p>
<script>
addEditor(
`<!doctype HTML>
<p id = teksti>
    Klikkaa minua.
</p>
<script>
    teksti.onclick = () => {
	alert("Onnittelut, klikkasit oikeaa paikkaa.")
    }
${closeScript}`, true
);</script>
	</div>
<p>
	K√§yd√§√§n seuraavaksi l√§pi pala palalta, mit√§ koodissa oikein tapahtuu.
</p>
<ol>
	<li> Ensin laitamme ohjelman alkuosaan HTML-koodia.
<script>codeExample(
`
<p id = teksti >
    Klikkaa minua.
</p>
`
);</script>
Koodissa on k√§ytetty teksti-t√§gi√§ <code>&lt;p&gt;</code>, jonka sis√§lle on kirjoitettu merkkijono "Klikkaa minua." K√§yt√§mme t√§ll√§ist√§ <code>&lt;p&gt;</code>-t√§gi√§, sill√§ haluamme antaa <b>id-tunnisteen</b> merkkijonolle "Klikkaa minua". Tunniste asetetaan t√§gin sis√§lle kirjoittamalla <code>id = teksti</code>. Kun olemme antaneet sivulla n√§kyv√§lle merkkijonolle id-tunnisteen, p√§√§semme siihen k√§siksi my√∂s JavaScriptill√§.
	    
<li> Seuraavaksi tulee tuttuakin tutumpi &lt;script&gt;-t√§gi.
<p><script>codeExample(
`
<script>
    //...	    
${closeScript}
`
);</script></p>
&lt;script&gt;-t√§gejen rajaamaa aluetta kannattaa ajatella kokonaisuutena. Tutkitaan seuraavassa kohdassa, mit√§ t√§gien sis√§ll√§ oleva koodi tekee.

<li> Tarkastellaan seuraavaksi koodilohkoa:
<script>codeExample(
`
teksti.onclick = () => {
    //...
}
`
,"javascript");</script>
Annoimme edellisess√§ kohdassa id-tunnisteen <code>&lt;p&gt;</code>-lohkolle. K√§yt√§mme nyt annettua tunnistetta ja kutsumme tunnistetulle muuttujalle komentoa <code>.onclick</code>. T√§m√§ kertoo meille, ett√§ odotamme klikkausta tunnistetulle "teksti"-osalle. Huomasithan lohkorakenteen? Kirjoitamme lohkon sis√§lle sen, mit√§ haluamme tapahtuvan, kun tunnistettua kohtaa klikataan.  

<li> Lohkon sis√§lt√§ l√∂yd√§mme edellisest√§ osasta tutun komennon.
<script>codeExample(
`
alert("Hello")
`
,"javascript");</script>
T√§m√§ komento toimii, kuten tavallinenkin <code>alert()</code>-komento. Olemme vain sijoittanut sen tapahtuman sis√§√§n.
&lt;/ol&gt;

<div class="codebox extra">
<h3>Id-tunniste</h3>
Id-tunniste annetaan HTML-koodille. K√§yt√§mme id-tunnistetta HTML-koodin ja JavaScript-koodin v√§liseen komminukaatioon. Kun k√§yt√§mme id-tunnistetta HTML-koodissa voimme <b>viitata</b> siihen JavaScript-koodissa. 
</div>
<div class="codebox task">
<h3>Teht√§v√§ 3.1a</h3>
<p>Kirjoita ohjelmaan koodi, jolla <code>alert()</code> komennolla tulostetaan "Ankat uivat lammessa."</p>
 <script>
addEditor(
`<!doctype HTML>
<p id = teksti>
    Miss√§ ankat uivat?
</p>
<script>
teksti.onclick = () => {
}
${closeScript}`
		    );</script>
</div>

<div class="codebox task">
<h3>Teht√§v√§ 3.1b</h3>
<p>Kirjoita ohjelmaan koodi, jolla <code>alert()</code> komennolla tulostetaan "H√∂yhenpeite on my√∂s vett√§hylkiv√§."</p>
<script>
   addEditor(
`<!doctype HTML>
<p id = teksti>
    Ankkojen h√∂yhenpeite on pehme√§.
</p>
<script>
${closeScript}`
		);</script>
    </div>

<div class="codebox task">
<h3>Teht√§v√§ 3.1c</h3>
	    <p>Kirjoita ohjelmaan &lt;p&gt;-t√§gien sis√§lle teksti "Koodiankat ovat keltaisia.".
		Anna t√§geille tunnisteeksi "teksti".
		Lis√§√§ tunnisteeseen viittaus <code>onclick</code>-komentoon oikeaan kohtaan.
	    </p>
	    <script>
		addEditor(
`<!doctype HTML>
<p>
    Saammeko tekstin toimimaan tapahtumana?
</p>
<script>
    .onclick = () => {
	alert("Onnittelut, osasit luoda oikean id-tunnuksen.")
    }
${closeScript}`
	    );</script>
</div>

<div class="codebox task">
<h3>Teht√§v√§ 3.1HAASTE</h3>
<p>Kirjoita ohjelmaan &lt;p&gt;-t√§gien sis√§lle teksti "Koodiankat auttavat ihmisi√§ ohjelmoinnissa.". Anna t√§geille tunnisteeksi "teksti". Lis√§√§ <code>onclick</code>-komento ja kirjoita sen sis√§lle <code>alert()</code>-komento, joka tulostaa tekstin "Koodiankat ovat s√∂p√∂j√§.".
	</p>
	<script>
	    addEditor
	    
	    (
`<!doctype HTML>
<script>
${closeScript}`
	);</script>
</div>

<div class="codebox example">
<h3>Esimerkki 3.2</h3>
<p>
   Teksti√§ klikkaamalla teksti vaihtuu.
</p>
<script>
    addEditor(
`<!doctype HTML>
<p id = teksti>Klikkaa minua.</p>
<script>
    teksti.onclick = () => {
	teksti.textContent = "Moikka moi!"    
    }
    
${closeScript}`, true
);</script>
</div>

<p>
   Jotta voimme muokata teksti√§, joka on jo asetettu sivulle kerran tarvitaan komentoa <code>textContent</code>. 
	    Edellisess√§ esimerkiss√§ koodi <code>teksti.textContent = "Moikka moi!"</code> kutsuu t√§t√§ komentoa "teksti"-tunnisteille.
	    Yht√§suuruusmerkeill√§ (=) asetamme t√§m√§n "teksti"-tunnistetun kohdan arvoksi merkkijonon "Moikka moi!".
</p>
	
<h3>Opitut komennot</h3>
<p>
  Opimme t√§ss√§ osassa muuttamaan tapahtumien avulla HTML-sivulla olevien objektien sis√§lt√∂√§. 
   Kerrataan viel√§, mit√§ komentoja opimme.
	</p>
	<table>
		<caption>Opitut komennot</caption>
		<tr>
		    <th>Komento
		    <th style="width: 450px;">Esimerkki
		    <th>Selitys
		    <tr>
		    <td><code>&lt;p&gt;</code>
<td><script>codeExample(`
<p> 
    Hei maailma!
</p>`
		, "javascript", true);</script>
		<td>Merkit√§√§n HTML-tiedoston tekstiosioita.	
		<tr>
		    <td><code>id = teksti </code>
		    <td><script>codeExample(`
<p id = teksti> 
    T√§ll√§ tekstill√§ on tunnisteena "teksti"
</p>`
		    , "javascript", true);</script>
		    <td>Tunnistaa HTML-koodissa olevat t√§git
		<tr>
		    <td><code>.onclick = () = {}</code>
		    <td><script>codeExample(
`teksti.onclick = () => {
 //...
}`
		    , "javascript", true);</script>
		    <td>Odottaa k√§ytt√§j√§lt√§ klikkausta asetettuun muuttujaan.
		<tr>
		    <td><code>textContent</code>
		    <td><script>codeExample(
		`teksti.textContent = "Moikka moi!`, "javascript", true);</script>
		    <td>Vaihtaa id-tunnistetun muuttujan arvon.
	    &lt;/table&gt;

<h2>3.2 Painikkeet</h2>
    <p>
	Tekstin lis√§ksi voimme tehd√§ painikkeita. 
	Kuten <button>t√§m√§.</button>
	T√§st√§ painikkeesta ei viel√§ kuitenkaan tapahdu mit√§√§n.
	JavaScriptill√§ saamme painikkeesta tapahtumia aikaiseksi.
    </p>
    <p>
	Ensin painike t√§ytyy luoda. 
	T√§m√§ onnistuu kirjoittamalla <code>&lt;button&gt;t√§m√§.&lt;/button&gt;</code>. 
    </p>
    <p>
	T√§m√§n j√§lkeen luomme toiminnalisuuden painikkeelle <code>&lt;script&gt;&lt;/script&gt;</code> lohkon sis√§lle. 
    </p>
		<div class="codebox example">
			<h3>Esimerkki 3.3</h3>
			<p>
				Painikkeesta tapahtuu alert().
			</p>
			<script>
				addEditor(
`<!doctype HTML>
<button id=nappi>Klikkaa t√§st√§.</button>
<script>
	nappi.onclick = () =>  {
		alert("Nappia painettiin.")
	}
${closeScript}`, true
			);</script>
	    </div>
	    <p>
		Kutsumme siis t√§ll√§ kertaa <code>.onclick</code> komentoa <code>&lt;button&gt;</code> objektille, 
		jolle olemme antaneet id-tunnisteeksi "nappi".
		Toiminnallisuus n√§ytt√§√§ hyvin samalta, kuin edellisess√§ osiossa teimme tekstin muuuttamisen kanssa.
	    </p>
	    <p>
		Tehd√§√§n seuraavaksi ohjelma, joka k√§ytt√§√§ kahta erilaista id-tunnistettua HTML-objektia. 
	    </p>
	    <div class="codebox example">
		<h3>Esimerkki 3.4</h3>
		<p>
		    Painiketta <code>&lt;button&gt;</code> painettaessa suoritetaan komento <code>nappi.onclick</code>. 
		</p>
		<script>		addEditor(
`<!doctype HTML>
<p id = teksti>hello!<p>
<button id=nappi>Vaihda teksti√§</button>
<script>
    nappi.onclick = () =>  {
	teksti.textContent = "Moikka moi!"
    }
${closeScript}`, true
		);</script>
	    </div>

	    <div class="codebox task">
		    <h3>Teht√§v√§ 3.2.1a</h3>
		    <p>
			Kirjoita ohjelma, joka tulostaa n√§yt√∂lle "Klikkasit painiketta."</p>
		    <script>
			addEditor(
`<!doctype HTML>
<button id=nappi>Klikkaa minua</button>
<script>
nappi.onclick = () => {
}
${closeScript}`
		    );</script>
	</div>

	<div class="codebox task">
		<h3>Teht√§v√§ 3.2.1b</h3>
		<p>
		   Lis√§√§ ohjelmaan id-tunniste painikkeelle.
		   Huomaa, ett√§ id-tunniste tulee antaa my√∂s <code>.onclick</code>-metodille.
		</p>
		<script>
		    addEditor(
`<!doctype HTML>
<button>Klikkaa minua</button>
.onclick = () => {
    alert("Hyv√§√§ ty√∂t√§!")
}
<script>
${closeScript}`
		);</script>
    </div>
    
    <div class="codebox task">
	<h3>Teht√§v√§ 3.2.1c</h3>
	<p>
	    T√§ss√§ teht√§v√§ss√§ vaihdetaan <code>&lt;p id=teksti&gt;</code>-objektin teksti√§.
	    Lis√§√§ komento, joka vaihtaa <code>&lt;p id=teksti&gt;</code>-objektin tekstin tekstiksi "Onnistuin!".
	</p>
	<script>
	    addEditor(
`<!doctype HTML>
<p id=teksti>
    Onnistutko vaihtamaan t√§m√§n tekstin?
<p>
<button id=nappi>Vaihda teksti√§</button>
<script>
    nappi.onclick = () => {
    }
${closeScript}`
	);</script>
    </div>

	    <p>
		Osaamme luoda objekteja, tapahtumia ja kuuntelijoita. 
		Osaamme siis tehd√§ jo aika paljon kaikenlaista. 
		Kerrataan viel√§, mit√§ olemme oppineet.
	    </p>

	    <h3>Opitut komennot</h3>
	    <p>
		Opimme t√§ss√§ osassa muuttamaan tapahtumien avulla HTML-sivulla olevien objektien sis√§lt√∂√§. 
		Kerrataan viel√§, mit√§ komentoja opimme.
	    </p>
	    <table>
		    <caption>Opitut komennot</caption>
		    <tr>
			<th>Komento
			<th style="width: 450px;">Esimerkki
			<th>Selitys
		    <tr>
			<td><code> &lt;button id=nappi&gt; </code>
			<td><script>codeExample(`<button id=nappi>T√§m√§ on painike.</button>`, "javascript", true);</script>
			<td>Luo painikkeen HTML-koodissa.
		&lt;/table&gt;
 <!--	   <p>
		Lopuksi tehd√§√§n v√§h√§n haastavampi esimerkki. 
		Seuraavassa esimerkiss√§ kirjoitamme ohjelman, 
		joka painiketta painamalla vaihtaa kuvaa. 
		T√§t√§ teht√§v√§√§ varten meid√§n tulee vaihtaa kuvan l√§hde eli <code>src</code>.
		Kuvan l√§hde on url-osoite.
	    </p>
	    <div class="codebox example">
		<h3>Esimerkki 3.5</h3>
		<p>
		    Kuvan vaihtaminen.
		</p>
		<script>
		    addEditor(
 
`<!doctype HTML>
<img id=kuva src="https://linkki.github.io/linkki-research/osa3/kuva1.png">
<button id=nappi>Vaihda kuvaa</button>
<script>
    nappi.onclick = () => {
	kuva.setAttribute('src','https://linkki.github.io/linkki-research/osa3/kuva2.png')
    }
${closeScript}`, true
		);</script>
	    </div>
-->	    
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</td></td></td></tr></th></th></th></tr></table></td></td></td></tr></td></td></td></tr></td></td></td></tr></td></td></td></tr></th></th></th></tr></table></li></li></li></li></ol>
:ET