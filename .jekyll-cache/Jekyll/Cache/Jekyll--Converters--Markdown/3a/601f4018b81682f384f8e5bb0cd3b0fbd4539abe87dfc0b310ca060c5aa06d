I"¶<div class="content">
<h1>Osa 6 ‚Äì Listat</h1>

<p>
T√§ss√§ osassa tutustumme <b>listoihin</b>.
Lista on olio, joka sis√§lt√§√§ muita olioita sis√§ll√§√§n.

<p>
Edellisess√§ luvussa loimme hahmoille olioita, joilla on jokaisella oma muuttuja.
T√§m√§ toimii, jos peliss√§ on aina sama m√§√§r√§ olioita.
Mutta ent√§, jos olioiden m√§√§r√§ muuttuu?
Esimerkiksi <a href="../projektit/v√§istelypeli.html">v√§istelypeliss√§</a> vihollisia tulee koko ajan lis√§√§
ja <a href="../projektit/matopeli.html">matopeliss√§</a> madon h√§nt√§ kasvaa.

<p>
Jotta voimme tehd√§ t√§m√§n, emme voi luoda omaa muuttujaa jokaiselle hahmo-oliolle.
Sen sijaan voimme luoda listan, joka sis√§lt√§√§ oliot.

<h2>Lukulista</h2>

<p>
Aloitetaan yksinkertaisella listalla, joka sis√§lt√§√§ lukuja.
Sellainen luodaan k√§ytt√§m√§ll√§ hakasulkuja:

<script>codeExample(
`var luvut = [1, 2, 3]
`,"javascript");</script>

<p>

<div style="display: flex; justify-content: center;">
<img src="https://www.mv.helsinki.fi/home/lawkaita/more/linkki/img/train5.webp" />
</div>

Listan sis√§ll√§ oleviin asioihin eli <b>alkioihin</b> voi viitata kirjoittamalla listan nimen ja hakasuluissa luvun.
<code>luvut[0]</code> on ensimm√§inen luku, <code>luvut[1]</code> toinen luku ja niin edelleen.
(JavaScript k√§ytt√§√§ niin kutsuttua <i>nollaindeksointia</i>, jossa listan ensimm√§isen alkion j√§rjestysluku eli <b>indeksi</b> on nolla.)

<script>addEditor(
`<script>
	var luvut = [1, 2, 3]

	alert(luvut)
	alert(luvut[0])
${closeScript}
`);</script>

<p>
Kun olemme luoneet listan, voimme k√§ytt√§√§ <code>for of</code> -silmukkaa k√§yd√§ksemme sen l√§pi:

<script>addEditor(
`<script>
	var luvut = [1, 2, 3]

	for (var luku of luvut) {
		alert(luku + 1)
	}
${closeScript}
`);</script>

<p>
Silmukan sis√§ll√§ oleva koodi suoritetaan kolme kertaa eli kerran jokaiselle listan alkiolle.
Jokaisella suorituskerralla muuttuja <code>luku</code> asetetaan ensin viittamaan yhteen listan alkioista.
Ensin <code>luku</code> on <code>1</code>, toisella suorituskerralla se on <code>2</code> ja viimeisell√§ kerralla <code>3</code>.
Koska tulostamme arvon <code>luku + 1</code>, n√§yt√∂lle pit√§isi tulostua luvut 1+1, 2+1 ja 3+1 eli 2, 3 ja 4.

<p>
TODO: Teht√§vi√§, joissa luodaan listoja.

<h2>Lis√§√§minen ja poistaminen</h2>

<p>
Listan t√§rkein hy√∂ty on, ett√§ siihen voi lis√§t√§ asioita ja siit√§ voi poistaa asioita.
Tutustumme nyt nelj√§√§n t√§rkeimp√§√§n lis√§√§mis- ja poistamiskomentoon.

<h3><code>push</code></h3>

<p>
<code>.push()</code> lis√§√§ alkion listan loppuun.

<script>addEditor(
`<script>
	var luvut = [1, 2, 3]

	luvut.push(1)

	alert(luvut)
${closeScript}
`);</script>

<div style="display: flex; justify-content: center;">
<img src="https://www.mv.helsinki.fi/home/lawkaita/more/linkki/img/push-van.webp" style="" />
</div>

<h3><code>pop</code></h3>

<p>
<code>.pop()</code> poistaa alkion listan lopusta.
Poistetun arvon voi tallettaa tarvittaessa muuttujaan.

<script>addEditor(
`<script>
	var luvut = [1, 2, 3]

	var viimeinen = luvut.pop()

	alert(luvut)
	alert(viimeinen)
${closeScript}
`);</script>

<div style="display: flex; justify-content: center;">
<img src="https://www.mv.helsinki.fi/home/lawkaita/more/linkki/img/pop-van.webp" style="" />
</div>


<h3><code>shift</code></h3>

<p>
<code>.shift()</code> poistaa alkion listan alusta.
Komennon nimi tulee siit√§, ett√§ jokaista listan alkiota ik√§√§n kuin siirret√§√§n yksi taaksep√§in (ja ensimm√§inen alkio katoaa).
Se alkio, joka oli aiemmin <code>luvut[1]</code> on nyt <code>luvut[0]</code>.

<p>
Kuten <code>.pop()</code>-komennon kanssa, poistetun arvon voi tallettaa muuttujaan.

<script>addEditor(
`<script>
	var luvut = [1, 2, 3]

	var ensimm√§inen = luvut.shift()

	alert(luvut)
	alert(luvut[0])
	alert(ensimm√§inen)
${closeScript}
`);</script>

<h3><code>unshift</code></h3>

<p>
<code>.unshift()</code> lis√§√§ alkion listan alkuun.
Kuten <code>shift</code>in kanssa, alkiot siirtyv√§t listassa ‚Äì t√§ll√§ kertaa eteenp√§in.

<script>addEditor(
`<script>
	var luvut = [1, 2, 3]

	luvut.unshift(1)

	alert(luvut)
${closeScript}
`);</script>

<h3><code>splice</code></h3>

<p>
JavaScriptiss√§ on omat komennot listan alkuun ja loppuun lis√§√§miselle ja poistamiselle.
Listan keskelle lis√§√§miseen ja poistamiseen on kuitenkin vain yksi komento, <code>.splice()</code>.

<h3>Teht√§vi√§</h3>

<p>
TODO: Teht√§v√§, jossa listaan lis√§t√§√§n ja siit√§ poistetaan arvoja

<p>
TODO: Teht√§v√§, jossa luodaan lista, lis√§t√§√§n siihen arvoja, ja iteroidaan sit√§

<p>
TODO: Kysymys/monivalinta, jossa kysyt√§√§n milt√§ lista n√§ytt√§√§ operaatioiden j√§lkeen

<h2>Oliolista</h2>

<p>
T√§h√§n menness√§ listat ovat sis√§lt√§neet lukuja.
Peleiss√§ listoihin kuitenkin halutaan usein tallettaa hahmoja tai muita olioita.

<p>
Olion voi lis√§t√§ listaan samalla tavalla kuin luvunkin k√§ytt√§m√§ll√§ sopivaa komentoa, esimerkiksi <code>.push()</code>-komentoa:

<script>codeExample(
`var hahmot = []
hahmot.push({
	X: 0,
	Y: 0,
})
`,"javascript");</script>

<p>
Kun oliolistaan on lis√§tty haluttu m√§√§r√§ olioita, se voidaan k√§yd√§ l√§pi <code>for of</code> -silmukalla:

<script>codeExample(
`for (var hahmo of hahmot) {
	piirt√§d√§.drawRect(hahmo.X, hahmo.Y, 100, 100)
}
`,"javascript");</script>

<p>
Silmukassa muuttuja <code>hahmo</code> on v√§liaikainen nimi nyt k√§sittelyss√§ olevalle oliolle.
Aina kun silmukka ottaa seuraavan olion k√§sittelyyn, muuttujakin muutetaan viittaamaan siihen.
</p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></div>
:ET